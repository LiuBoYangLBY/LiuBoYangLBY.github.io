<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>git学习笔记 | 如果有一天</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">git学习笔记</h1><a id="logo" href="/.">如果有一天</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">git学习笔记</h1><div class="post-meta">Oct 7, 2018<span> | </span><span class="category"><a href="/categories/学习笔记/">学习笔记</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p>##初始化仓库</p>
<p><strong>git init &lt;dir_name&gt;</strong>   在文件夹中创建一个dir作为git版本库，dir_name可省略，此时默认将当前所在文件初始化为版本库。</p>
<p><strong>git log</strong> 查看历史记录，添加 –pretty=oneline 参数使得记录内容缩减为commit id和commit注释。</p>
<p><strong>git reset –hard HEAD^</strong>  回退到上一个版本，^表示回退的版本的数量，回退版本过多可以用~number代替，也可以用git log查找commit id，然后选择具体的id进行回退</p>
<p>##追踪修改，提交版本，查看不同</p>
<p><strong>git add &lt;file_name&gt;</strong> 将对working(工作区)中的file的修改添加到stage(暂存区)中。</p>
<p>git commit -m “说明（英文不会）” 将stage中的改动提交到repo(版本库)中。值得注意的是，commit是commit stage中的内容，如果不把working中的内容add到stage中，working中的修改就无法被commit到repo中。</p>
<p>当对某个或某些文件进行修改过后，先将修改的file add到stage中，然后将stage commit到repo中，也可以用git commit -a 两步并作一步，一步到位。</p>
<p><strong>git status</strong> 查看working当前状态(与上一次commit后的repo相比)。</p>
<p><strong>git diff</strong> 比较working和stage之间的差异，具体来说是跟最近一次add之后的stage相比，working发生了哪些变化，两次commit之间可以有多次add命令。因此如果一次性将所有修改都add到stage中，会出现git diff后啥也没有的情况。</p>
<p><strong>git diff –cached</strong> 比较stage和repo之间的差异。</p>
<p><strong>git diff HEAD – &lt;file_name&gt;</strong>  直接将working的file和repo的file相比。</p>
<p>##撤销修改</p>
<p><strong>git checkout – &lt;file_name&gt;</strong> 如果你还没有把修改add到stage中，此命令可以将working中对file的修改撤回到与最近一次commit后repo中的file相同的状态(反正你也没add，其实手动修改就行，没必要用这个命令，还有可能把不想改的东西改掉，但是如果你瞎jb改，自己都忘了改了哪些地方了，这个命令就派上用场了)。如果你已经把修改add到stage了，在此之后又做了修改，那么此命令可以把file撤回到与stage相同的状态。</p>
<p><strong>git reset HEAD &lt;file_name&gt;</strong>  可以把file在stage中的修改取消，也就是说可以撤销对file的add命令</p>
<p>上面两个命令后先时候可以把对某个file的修改从stage中撤销，并且把该file撤回到最近的repo状态。</p>
<p>##删除文件</p>
<p><strong>git rm</strong> 如果你想从版本库中把某文件删了，那么你就先用这个命令，然后commit，文件就从working和repo中同时被删除了。</p>
<p>如果你手一抖删错了，可以用git checkout – filename 将该文件还原，不过要注意，这一命令实际上使用repo或stage中(具体要看你有没有把修改add到stage中，参见上文)的文件替换working中的文件，也就是说，如果你在某次commit后对file做了修改，手抖之前没有add/commit，那么你对该文件的最新修改就没了。</p>
<p>如果你手抖把版本库的也删了，那你就得回退版本了，用git reset HEAD^回退上一个版本，然后再用checkout。</p>
<p>##分支管理<br>HEAD指向master，master指向最新的提交</p>
<p><strong>git branch</strong> 查看所有分支</p>
<p><strong>git branch new_branch; gitcheckout new_branch</strong> 创建一个分支new_branch，然后切换到该分支</p>
<p><strong>git checkout -b branch-name origin/branch-name</strong> 在本地创建和远程分支对应的分支，在本地新建的branch，如果没有推送到远程repo，那么该branch对从远程repo中clone的人来说就是不可见的。</p>
<p><strong>git branch -d</strong> 删除指定分支</p>
<p><strong>git checkout -b new_branch</strong> 上述两条命令可以用这条命令代替，即checkout加一个b参数</p>
<p><strong>git merge</strong> 制定分支合并到当前分支上</p>
<p><strong>git stash</strong> 将当前的working保存，等到合适的时候再重新读档。 竟然可以在branch1上stash，然后在branch2上pop…搞不懂</p>
<p><strong>git stash list</strong> 列出所有存档</p>
<p><strong>git stash apply; git stash drop</strong> 恢复后删除某分支，或者直接用 <strong>git stash pop</strong> 一步到位</p>
<p>##解决冲突</p>
<p>用git pull把远程库上的最新的提交从你要push的分支上拉下来，然后在本地合并，解决冲突，然后再推送，从远程repo拉下来之后会自动尝试合并。本质上和merge两个branch差不多，即在要合并的branch上解决冲突，然后merge。<strong>但是在pull之前，要先用 <strong>git branch –set-upstream-to=origin/branch branch</strong> 命令制定本地branch和远程origin/branch的联系，设置链接,如果提示no tracking information，则说明链接关系未创建</strong>。</p>
<p>##标签管理</p>
<p><strong>git tag</strong> 用git checkout 切换到某一分支上，然后用该命令打标签，标签按字母排序。标签总是和commit联系在一起，在不带commit id的情况下，标签默认和最新的commit挂钩，我们也可以手动指定标签与某一commit id挂钩。<br>还可以创建带有说明的标签，用-a指定标签名，-m指定说明文字。<br>不带任何参数可以查看所有标签</p>
<p><strong>git push origin &lt;tag_name&gt;</strong> 创建的标签都默认只储存在本地，可以使用该命令将标签推送到远程repo，或者用<strong>–tags</strong>参数一次性把所有尚未推送的标签都推送到远程repo。</p>
<p><strong>git tag -d</strong> 从本地删除标签<br><strong>git push origin :ref/tags/tag_name</strong> 从远程repo删除标签。 </p>
</div><div class="tags"><a href="/tags/git/">git</a></div><div class="post-nav"><a class="pre" href="/2018/10/07/basic-1006/">basic-1006</a><a class="next" href="/2018/09/02/开端/">开端</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/OnlineJudge/">OnlineJudge</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/学习笔记/">学习笔记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/PAT-basic/" style="font-size: 15px;">PAT-basic</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/随笔/" style="font-size: 15px;">随笔</a> <a href="/tags/心情记录/" style="font-size: 15px;">心情记录</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1082/">basic-1082</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1077/">basic-1077</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1069/">basic-1069</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1067/">basic-1067</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1064/">basic-1064</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1062/">basic-1062</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1063/">basic-1063</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1053/">basic-1053</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/24/basic-1057/">basic-1057</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/22/basic-1048/">basic-1048</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">如果有一天.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>